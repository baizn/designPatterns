### Facade

外观模式——对象结构性模式。

#### 1、意图

为子系统中的一组接口提供一个一致的界面，Facade模式定义了一个高层接口，这个接口使得这一子系统更容易使用。

#### 2、动机

将一个系统划分成若干子系统有利于降低系统的复杂性。一个常见的设计目标是使子系统间的通信和相互依赖关系达到最小。达到该目的的途径之一是引入一个外观对象，它为子系统中较一般的设施提供一个单一而简单的界面。

![](/Users/moyee/ant-repo/github/designPatterns/patterns/Facade/doc/facade-demo.png)

#### 3、适用性

在遇到以下情况使用Facade模式：

- 当要为一个复杂子系统提供一个简单的接口时；
- 客户程序与抽象类的实现部分之间存在着很大的依赖性：引入Facade将这个子类系统与客户以及其他的子系统分离，可以提高子系统的独立性和可移植性；
- 当需要构建一个层次结构的子系统时，使用Facade模式定义子系统中每层的入口点。

#### 4、结构

![](/Users/moyee/ant-repo/github/designPatterns/patterns/Facade/doc/facade.png)

#### 5、参与者

- Facade：
  - 知道哪些子系统类负责处理请求；
  - 将客户的请求代理给适当的子系统对象。
- Subsystem classes：
  - 实现子系统的功能；
  - 处理由Facade对象指派的任务；
  - 没有Facade的任何相关信息，即没有指向Facade的指针。

#### 6、协作

- 客户程序通过发送请求给Facade的方式与子系统通讯，Facade将这些消息转发给适当的子系统对象。尽管是子系统中的有关对象在做实际工作，但Facade模式本身也必须将它的接口转换成子系统的接口；
- 使用Facade的客户程序不需要直接访问子系统对象。

#### 7、效果

Facade模式有下面一些优点：

1. 它对客户屏蔽子系统组件，因而减少了客户处理的对象的数目并使得子系统使用起来更加方便；
2. 它实现了子系统与客户之间的松耦合关系，而子系统内部的功能组件往往是紧耦合的。松耦合关系使得子系统的组件变化不会影响到它的客户，Facade模式有助于建立层次结构系统，也有助于对象之间的依赖关系分层，Facade模式可以消除复杂的循环依赖关系。
3. 如果应用需要，它并不限制它们使用子系统类。

#### 8、实现

使用Facade模式时需要注意以下几点：

1. 降低客户-子系统之间的耦合度；
2. 公共子系统类与私有子系统类。

